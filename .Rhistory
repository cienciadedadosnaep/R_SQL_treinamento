con <- DBI::dbConnect(odbc::odbc(),user="root",
password = "rwsp1983",
Driver    = "MySQL ODBC 8.0")
library(sparklyr)
library(sparkline)
library(SparseM)
library(sparsesvd)
library(MatrixModels)
library(Matrix, lib.loc = "/usr/lib/R/library")
install.packages("RODBC")
library(RODBC)
con <- odbcConnect('data/Dump20210122.sql',uid = "root",pwd="rwsp1983")
con <- odbcConnect('Dump20210122',uid = "root",pwd="rwsp1983")
con <- odbcConnect('Dump20210122',uid = "root",pwd="rwsp1983")
con <- odbcConnect('Dump20210122.sql',uid = "root",pwd="rwsp1983")
install.packages("RMariaDB")
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
# Library
library(RMySQL)
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
View(mydb)
View(mydb)
library(DBI)
library(RMySQL)
library(pool)
library(DBI)
library(RMySQL)
library(pool)
pool <- dbPool(
drv = RMySQL::MySQL(),
dbname = "cdnaep",
host = "127.0.0.1",
username = 'root',
password = 'rwsp1983',
port = 3306
)
View(pool)
View(mydb)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
View(rs)
df <-  fetch(rs, n = -1)
df <-  fetch(rs, n = -1)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
df <-  fetch(rs, n = -1)
View(df)
sqldf("select * from assaltos")
library(sqldf)
sqldf("select * from assaltos")
sqldf("select assaltos from mydb")
sqldf("select assaltos from cdnaep")
sqldf("select assaltos from cdnaep")
sqldf("select * from cdnaep where assaltos")
sqldf("select * from mydb where assaltos")
View(df)
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
pool <- dbPool(
drv = RMySQL::MySQL(),
dbname = "cdnaep",
host = "127.0.0.1",
username = 'root',
password = 'rwsp1983',
port = 3306
)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
df <-  fetch(rs, n = -1)
sqldf("select * from mydb where assaltos")
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
df <-  fetch(rs, n = -1)
sqldf("select * from mydb where assaltos")
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
pool <- dbPool(
drv = RMySQL::MySQL(),
dbname = "cdnaep",
host = "127.0.0.1",
username = 'root',
password = 'rwsp1983',
port = 3306
)
s <- paste0("select * from ", "assaltos")
#rs <- dbSendQuery(mydb, s)
rs <- dbSendQuery(pool, s)
# Library
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
s <- paste0("select * from ", "assaltos")
#rs <- dbSendQuery(mydb, s)
rs <- dbSendQuery(pool, s)
df <-  fetch(rs, n = -1)
#sqldf("select * from mydb where assaltos")
# Library
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
df <-  fetch(rs, n = -1)
#sqldf("select * from mydb where assaltos")
install.packages("googleVis")
library("googleVis")
Bar <- gvisBarChart(df)
plot(Bar)
Combo <- gvisComboChart(df, xvar="id",
yvar=c("ocorrencias"),
options=list(seriesType="bars",
series='{1: {type:"line"}}'))
plot(Combo)
Combo <- gvisComboChart(df, xvar="id",
yvar=c("ocorrencias"),
options=list(seriesType="bars"))
plot(Combo)
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="id",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
Bar <- gvisBarChart(df)
plot(Bar)
df$date <- as.Date(with(df, paste(year, mon, 15,sep="-")), "%Y-%m-%d")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
View(df)
library("lubridate")
Bar <- gvisBarChart(df)
plot(Bar)
df$date <- as.Date(with(df, paste(year, mon, 15,sep="-")), "%Y-%m-%d")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
Bar <- gvisBarChart(df)
plot(Bar)
df$date <- as.Date(with(df, paste(ano, mes, 15,sep="-")), "%Y-%m-%d")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
Bar <- gvisBarChart(df)
plot(Bar)
df$date <- as.Date(with(df, paste(ano, mes,sep="-")), "%Y-%m")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
df <-  fetch(rs, n = -1)
#sqldf("select * from mydb where assaltos")
install.packages("googleVis")
library("googleVis")
library("lubridate")
Bar <- gvisBarChart(df)
plot(Bar)
df$date <- as.Date(with(df, paste(ano, mes,15,sep="-")), "%Y-%m-%d")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
install.packages("googleVis")
# Library
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
library("googleVis")
library("lubridate")
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
df <-  fetch(rs, n = -1)
#sqldf("select * from mydb where assaltos")
Bar <- gvisBarChart(df)
plot(Bar)
df$date <- as.Date(with(df, paste(ano, mes,15,sep="-")), "%Y-%m-%d")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
# Library
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
library("googleVis")
library("lubridate")
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
df <-  fetch(rs, n = -1)
#sqldf("select * from mydb where assaltos")
df$date <- as.Date(with(df, paste(ano, mes,15,sep="-")), "%Y-%m-%d")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
source('~/R/DADOS_CDEP/sqlbank/bancodedados/leitura_verificaca_dbreconhecendosalvador.R', echo=TRUE)
# Library
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
library("googleVis")
library("lubridate")
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
s <- paste0("select * from ", "assaltos")
rs <- dbSendQuery(mydb, s)
df <-  fetch(rs, n = -1)
#sqldf("select * from mydb where assaltos")
df$date <- as.Date(with(df, paste(ano, mes,15,sep="-")), "%Y-%m-%d")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
s
# Library
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
library("googleVis")
library("lubridate")
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep_v00'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
#s <- paste0("select * from ", "assaltos")
call_crimes <- paste0("select * from ", "crimes")
#rs <- dbSendQuery(mydb, s)
rs <- dbSendQuery(mydb, call_crimes)
df<- NULL
df <-  fetch(rs, n = -1)
save(df,'db.RData')
save(df,file='db.RData')
View(df)
library(readr)
seguranca_v02 <- read_csv("data/seguranca_v02.csv")
View(seguranca_v02)
library(readr)
seguranca_v02 <- read_delim("data/seguranca_v02.csv",
";", escape_double = FALSE, col_types = cols(MES = col_date(format = "%Y-%d-%m")),
trim_ws = TRUE)
View(seguranca_v02)
save(seguranca_v02,file='db.RData')
# Library
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
library("googleVis")
library("lubridate")
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'cdnaep_v00'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
s <- paste0("select * from ", "assaltos")
#call_crimes <- paste0("select * from ", "crimes")
rs <- dbSendQuery(mydb, s)
#rs <- dbSendQuery(mydb, call_crimes)
df<- NULL
df <-  fetch(rs, n = -1)
#sqldf("select * from mydb where assaltos")
df$date <- as.Date(with(df, paste(ano, mes,15,sep="-")), "%Y-%m-%d")
df$ocorrencias.style <-c("green")
Combo <- gvisComboChart(df, xvar="date",
yvar=c("ocorrencias","ocorrencias.style"),
options=list(seriesType="bars"))
plot(Combo)
########################################################
# Visualizacao de dados
# Instacao pacote de visualizacao
install.packages("echarts4r")
# Carregar biblioteca
library(echarts4r)
df %>% e_chart(date) %>% e_bar(ocorrencias)
clear
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
library("googleVis")
library("lubridate")
# Settings
db_user <- 'root'
db_password <- 'rwsp1983'
db_name <- 'mydb'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
# Settings
db_user <- 'root'
db_password <- 'root'
db_name <- 'mydb'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3306
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
# Library
library(DBI)
library(RMySQL)
library(pool)
library(sqldf)
library("googleVis")
library("lubridate")
# Settings
db_user <- 'root'
db_password <- 'root'
db_name <- 'mydb'
#db_table <- 'your_data_table'
db_host <- '127.0.0.1' # for local access
db_port <- 3309
# 3. Read data from db
mydb <-  dbConnect(MySQL(), user = db_user, password = db_password,
dbname = db_name, host = db_host, port = db_port)
s <- paste0("select * from ", "assaltos")
#call_crimes <- paste0("select * from ", "crimes")
rs <- dbSendQuery(mydb, s)
#rs <- dbSendQuery(mydb, call_crimes)
s
s <- paste0("select id_aluno,nu_ano,nu_idade,tp_sexo from ", "alunos_bas_med")
rs <- dbSendQuery(mydb, s)
df<- NULL
df <-  fetch(rs, n = -1)
View(df)
df %>% filter(nu_ano>2000)
library(dplyr)
df %>% filter(nu_ano>2000)
df %>% filter(nu_ano>2000) %>% group_by(nu_ano)
df %>% filter(nu_ano>2000) %>%
group_by(nu_ano) %>%
summarise(n = n())
df %>% filter(nu_ano>2000) %>%
group_by(nu_idade) %>%
summarise(n = n())
df %>% filter(nu_ano>2000) %>%
group_by(nu_idade) %>%
summarise(n = n()) %>% ggplot2::aes(x=nu_idade,y=n) +
geom_col()
library(dplyr)
df %>% filter(nu_ano>2000) %>%
group_by(nu_idade) %>%
summarise(n = n()) %>% ggplot2::aes(x=nu_idade,y=n) +
geom_line()
library(ggplot2)
df %>% filter(nu_ano>2000) %>%
group_by(nu_idade) %>%
summarise(n = n()) %>% ggplot2::aes(x=nu_idade,y=n) +
geom_col()
df %>% filter(nu_ano>2000) %>%
group_by(nu_idade) %>%
summarise(n = n()) %>% ggplot(aes(x=nu_idade,y=n)) +
geom_col()
